var filterOptions={levelFilters:[],categoryFilters:[]},urlParams;(window.onpopstate=function(){var e,n=/\+/g,s=/([^&=]+)=?([^&]*)/g,t=function(e){return decodeURIComponent(e.replace(n," "))},o=window.location.search.substring(1);for(urlParams={};e=s.exec(o);)urlParams[t(e[1])]=t(e[2])})();function clearFilters(e){e.splice(0),search()}function addFilter(e,t){e.push(t),search()}function removeFilter(e,t){t>-1&&(e.splice(t,1),search())}function toggleFilter(e,t){if(e.includes(t)){removeFilter(e,e.indexOf(t));return}addFilter(e,t)}function search(){document.location=`/search/?l=${filterOptions.levelFilters.join()}&c=${filterOptions.categoryFilters.join()}`}function initFilters(){filterOptions.levelFilters=urlParams.l?.split(",")??[],filterOptions.categoryFilters=urlParams.c?.split(",")??[];const e=document.querySelectorAll('input[type="checkbox"]');e.forEach(e=>{(filterOptions.levelFilters.includes(e.id)||filterOptions.categoryFilters.includes(e.id))&&(e.checked=!0)})}initFilters()
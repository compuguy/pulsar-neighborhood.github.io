var filterOptions={levelFilters:[],categoryFilters:[]},urlParams;(window.onpopstate=function(){var a,c=/\+/g,d=/([^&=]+)=?([^&]*)/g,b=function(a){return decodeURIComponent(a.replace(c," "))},e=window.location.search.substring(1);for(urlParams={};a=d.exec(e);)urlParams[b(a[1])]=b(a[2])})();function clearFilters(a){a.splice(0),search()}function addFilter(a,b){a.push(b),search()}function removeFilter(b,a){a>-1&&(b.splice(a,1),search())}function toggleFilter(a,b){if(a.includes(b)){removeFilter(a,a.indexOf(b));return}addFilter(a,b)}function search(){document.location=`/search/?l=${filterOptions.levelFilters.join()}&c=${filterOptions.categoryFilters.join()}`}function initFilters(){filterOptions.levelFilters=urlParams.l?.split(',')??[],filterOptions.categoryFilters=urlParams.c?.split(',')??[];const a=document.querySelectorAll('input[type="checkbox"]');a.forEach(a=>{(filterOptions.levelFilters.includes(a.id)||filterOptions.categoryFilters.includes(a.id))&&(a.checked=!0)})}initFilters()
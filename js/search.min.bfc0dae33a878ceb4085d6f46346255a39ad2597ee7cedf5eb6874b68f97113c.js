show=e=>e.style.display='block',hide=e=>e.style.display='none';function search(e){show(document.querySelector('.search-loading')),fetch('/index.json').then(function(t){if(t.status!==200){console.log('Looks like there was a problem. Status Code: '+t.status);return}t.json().then(function(t){var n=new Fuse(t,fuseOptions),s=n.search(e);populateResults(s),hide(document.querySelector('.search-loading'))}).catch(function(e){console.log('Fetch Error :-S',e)})})}function param(e){return decodeURIComponent((location.search.split(e+'=')[1]||'').split('&')[0]).replace(/\+/g,' ')}function populateResults(e){var s=document.getElementById("search-query")?.value,t=document.getElementById("search-results"),n=document.getElementById("search-result-template");e.forEach(function(e){console.log(e);var s=n.content.cloneNode(!0),r=s.getElementById("search-result-type")??null,c=s.getElementById("search-result-date")??null,o=s.getElementById("search-result-level")??null,l=s.getElementById("search-result-title")??null,a=s.getElementById("search-result-summary")??null,d=s.getElementById("search-result-link")??null,u=s.getElementById("search-result-tags")??null,h=s.getElementById("search-result-categories")??null,i=new Date(e.item.date);r!==null&&(r.innerHTML=e.item.type),l!==null&&(l.innerHTML=e.item.title),c!==null&&(c.innerHTML="{0} {1}".format(new Intl.DateTimeFormat('en-US',{month:'short',day:'numeric'}).format(i),i.getFullYear()<(new Date).getFullYear()?', {0}'.format(i.getFullYear()):'')),o!==null&&(shouldClearNode(e.item.level)?o.parentNode.classList.add('d-none'):o.innerHTML=e.item.level),a!==null&&(a.innerHTML=e.item.summary),d!==null&&(d.href=e.item.relpermalink),e.item.tags?.forEach(t=>{var e=document.createElement('li');e.textContent=t,u?.appendChild(e)}),e.item.categories?.forEach(t=>{var e=document.createElement('li');e.textContent=t,h?.appendChild(e)}),t?.appendChild(s)})}function shouldClearNode(e){return e===void 0||e===null||e.length<1}function buildSearchQuery(){var e,n,t=param("s").trim()??null,s=param("l")?.trim().split(',').filter(Number)??[],o=param("c")?.trim().split(',').filter(String)??[],i=param("t")?.trim().split(',').filter(String)??[];return t===null&&levelFilterStr===null&&categoryFilterStr===null?null:(e=[],t!==null&&t.length>0&&(n=document.getElementById('search-query'),n!==null&&(n.value=t),e.push({title:`${t}`}),e.push({description:`${t}`}),e.push({summary:`${t}`})),s.length>0&&e.push(convertArrayToOrSearch("level",s)),o.length>0&&e.push(convertArrayToOrSearch("categories",o)),i.length>0&&e.push(convertArrayToOrSearch("tags",i)),{$and:e.filter(e=>e)})}function convertArrayToOrSearch(n,e){if(e===null||e.length<1)return null;var t=[];return e.forEach(e=>{if(e===null||e.length<1)return;t.push({[n]:`${e}`})}),{$or:t}}var summaryInclude=60,fuseOptions={shouldSort:!0,includeMatches:!0,threshold:0,tokenize:!1,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,isCaseSensitive:!0,keys:[{name:"title",weight:.3},{name:"tags",weight:.3},{name:"categories",weight:.3},{name:"level",weight:.3},{name:"description",weight:.3},{name:"summary",weight:.3}]},searchQuery=buildSearchQuery();searchQuery===null?document.getElementById('search-results').innerHTML='<p class="search-results-empty">Please enter a word or phrase above, or see <a href="/tags/">all tags</a>.</p>':search(searchQuery)